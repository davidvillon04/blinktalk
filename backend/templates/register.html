<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Create Account</title>
  <!-- Font Awesome CDN for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-pIVpS4F9Z9S4sF5HuyO1Yxx7mkTNZJxxV0oGxZ+S35gJKM6Eej+EJpDUPpZJpZJ4W7p6dXXm7ufmR4dY6zM8Ww==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    /* Simple styling for the toggle button */
    .toggle-btn {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 1.2em;
      vertical-align: middle;
    }
  </style>
</head>
<body>
  <h1>Create Account</h1>

  <!-- Display flash messages -->
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <ul style="color: red;">
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}

  <form method="POST">
    <!-- Username Input -->
    <label for="username">UserName:</label><br>
    <input type="text" id="username" name="username" required><br><br>

    <!-- Password Input with Toggle -->
    <label for="password">Password:</label><br>
    <input type="password" id="password" name="password" required>
    <button type="button" class="toggle-btn" onclick="togglePassword('password', this)">
      <i class="fa-solid fa-eye"></i>
    </button>
    <br><br>

    <!-- Confirm Password Input with Toggle -->
    <label for="confirm">Confirm Password:</label><br>
    <input type="password" id="confirm" name="confirm" required>
    <button type="button" class="toggle-btn" onclick="togglePassword('confirm', this)">
      <i class="fa-solid fa-eye"></i>
    </button>
    <br><br>

    <input type="submit" value="Create Account">
  </form>
  <br>
  <p>Already have an account? <a href="{{ url_for('login') }}">Sign In</a></p>

  <script>
    // Function to toggle the password visibility using Font Awesome icons
    function togglePassword(inputId, btn) {
      var inputField = document.getElementById(inputId);
      var icon = btn.querySelector('i');

      if (inputField.type === "password") {
        inputField.type = "text";
        icon.classList.remove('fa-eye');
        icon.classList.add('fa-eye-slash');
      } else {
        inputField.type = "password";
        icon.classList.remove('fa-eye-slash');
        icon.classList.add('fa-eye');
      }
    }
  </script>
</body>
</html>


